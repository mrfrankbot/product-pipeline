import{h as ue,u as me,r as d,j as e,R as Y}from"./vendor-react-DzgxJkbp.js";import{D as ye}from"./DraggablePhotoGrid-DHroujic.js";import{a as fe,u as be,b as F}from"./vendor-query-BeqrpgNA.js";import{u as ve,f as N}from"./index-DJAOEm-v.js";import{P as Q,x as X,M as je,T as n,B as _,L as z,a as l,C as j,al as J,E as P,I as c,e as S,au as Z,av as U,a0 as Se,o as w,D as W,a3 as we,a4 as Ce}from"./vendor-polaris-o1SQP_xq.js";const M={"Mint / Like New":"Items in this category will look like they have just come out of the original box. Original accessories and packaging are usually included. 99% - 100% of the original condition, even when viewed by the most discerning eyes.","Like New Minus":"Items in this category will look like they have just come out of the original box. Original accessories and packaging are usually included. 99% - 100% of the original condition, even when viewed by the most discerning eyes.","Excellent Plus":"Items in this category will look like they have had very little to no use, with any wear only visible under close inspection. 90% - 99% of original condition.",Excellent:"Items in this category will have normal signs of use, or signs appropriate with the age of the item. Most items used by enthusiasts or beginning pro photographers will fall into this category. 75% - 90% of original condition.","Excellent Minus":"Items in this category will have normal signs of use, or signs appropriate with the age of the item. Most items used by enthusiasts or beginning pro photographers will fall into this category. 75% - 90% of original condition.","Good Plus":"Items in this category will have excessive signs of wear, brassing, or finish loss, but are still operational. Heavy use is apparent. 50% - 65% of original condition.",Good:"Items in this category will have excessive signs of wear, brassing, or finish loss, but are still operational. Heavy use is apparent. 50% - 65% of original condition.","Open Box":"This item has been opened and inspected but shows no signs of use. Includes all original packaging and accessories.",Poor:"Items in this category will have excessive signs of wear, brassing, or finish loss, but are still operational. Heavy use is apparent. 50% - 65% of original condition.",Ugly:"Items in this category are either inoperable or so worn from the original condition that they cannot be counted on for reliable operation."},Ie={NEW:"Mint / Like New",NEW_OTHER:"Open Box",LIKE_NEW:"Mint / Like New",USED_EXCELLENT:"Excellent",VERY_GOOD:"Excellent Plus",GOOD:"Good Plus",ACCEPTABLE:"Good",FOR_PARTS_OR_NOT_WORKING:"Good"};function ke(t){const r=Ie[t];return r?M[r]??"":""}Object.keys(M).map(t=>({grade:t,description:M[t]}));const Ee=[{label:"New",value:"NEW"},{label:"Like New / New Other",value:"LIKE_NEW"},{label:"Excellent",value:"USED_EXCELLENT"},{label:"Very Good",value:"VERY_GOOD"},{label:"Good",value:"GOOD"},{label:"Acceptable",value:"ACCEPTABLE"},{label:"For Parts or Not Working",value:"FOR_PARTS_OR_NOT_WORKING"}],se={NEW:"New",NEW_OTHER:"New - Other",LIKE_NEW:"Like New",USED_EXCELLENT:"Excellent",VERY_GOOD:"Very Good",GOOD:"Good",ACCEPTABLE:"Acceptable",FOR_PARTS_OR_NOT_WORKING:"For Parts / Not Working"},E=[{id:"31388",name:"Digital Cameras",label:"Digital Cameras (31388)"},{id:"3323",name:"Camera Lenses",label:"Camera Lenses (3323)"},{id:"4201",name:"Film Photography Film",label:"Film Photography Film (4201)"},{id:"78997",name:"Film Photography Cameras",label:"Film Photography Cameras (78997)"},{id:"183331",name:"Flashes & Flash Accessories",label:"Flashes & Flash Accessories (183331)"},{id:"30090",name:"Tripods & Monopods",label:"Tripods & Monopods (30090)"},{id:"29982",name:"Camera Bags & Cases",label:"Camera Bags & Cases (29982)"},{id:"48446",name:"Binoculars & Telescopes",label:"Binoculars & Telescopes (48446)"},{id:"48528",name:"Camera Filters",label:"Camera Filters (48528)"},{id:"48444",name:"Other Camera Accessories",label:"Other Camera Accessories (48444)"}];function ee(t){const r=E.find(m=>m.id===t);return r?r.label:t}const $=t=>`ebay-prep-overrides-${t}`,Pe=t=>{try{const r=localStorage.getItem($(t));if(r)return JSON.parse(r)}catch{}return{}},Te=(t,r)=>{try{localStorage.setItem($(t),JSON.stringify(r))}catch{}},Oe=t=>{try{localStorage.removeItem($(t))}catch{}},ie=({state:t,brand:r,categoryName:m,policies:y})=>{const[o,i]=d.useState(0),h=se[t.condition]||t.condition,g=parseFloat(t.price)||0;return e.jsxs("div",{style:{border:"1px solid #e5e7eb",borderRadius:"8px",overflow:"hidden",fontFamily:'-apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',background:"#fff"},children:[e.jsxs("div",{style:{background:"linear-gradient(135deg, #e53238 0%, #0064d3 100%)",padding:"8px 16px",display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx("span",{style:{color:"#fff",fontWeight:800,fontSize:"20px",letterSpacing:"-0.5px"},children:"ebay"}),e.jsx("span",{style:{color:"rgba(255,255,255,0.8)",fontSize:"12px",marginLeft:"8px"},children:"Preview â€” not live yet"})]}),e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("h2",{style:{fontSize:"18px",fontWeight:700,color:"#111",margin:"0 0 12px 0",lineHeight:"1.3"},children:t.title||"Untitled Product"}),e.jsx("div",{style:{marginBottom:"12px"},children:e.jsxs("span",{style:{display:"inline-block",padding:"2px 8px",background:"#f0f7ff",color:"#0064d3",borderRadius:"4px",fontSize:"12px",fontWeight:600,border:"1px solid #c8e0ff"},children:["Condition: ",h]})}),e.jsxs("div",{style:{display:"flex",gap:"20px",marginBottom:"16px"},children:[e.jsx("div",{style:{flexShrink:0,width:"260px"},children:t.imageUrls.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{style:{width:"260px",height:"260px",border:"1px solid #e5e7eb",borderRadius:"4px",overflow:"hidden",background:"#fafafa",marginBottom:"8px"},children:e.jsx("img",{src:t.imageUrls[o],alt:"Product",style:{width:"100%",height:"100%",objectFit:"contain"},onError:x=>{x.target.style.display="none"}})}),e.jsx("div",{style:{display:"flex",gap:"4px",flexWrap:"wrap"},children:t.imageUrls.slice(0,8).map((x,p)=>e.jsx("div",{onClick:()=>i(p),style:{width:"44px",height:"44px",border:`2px solid ${p===o?"#0064d3":"#e5e7eb"}`,borderRadius:"3px",overflow:"hidden",cursor:"pointer",background:"#fafafa"},children:e.jsx("img",{src:x,alt:"",style:{width:"100%",height:"100%",objectFit:"cover"}})},p))})]}):e.jsx("div",{style:{width:"260px",height:"260px",border:"1px dashed #d1d5db",borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",color:"#9ca3af",fontSize:"14px"},children:"No photos"})}),e.jsxs("div",{style:{flex:1,minWidth:0},children:[e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsxs("div",{style:{fontSize:"28px",fontWeight:700,color:"#111"},children:["US $",g.toFixed(2)]}),e.jsx("div",{style:{fontSize:"12px",color:"#555",marginTop:"2px"},children:"+ Free shipping Â· Free returns"})]}),e.jsxs("div",{style:{marginTop:"16px",padding:"12px",background:"#f0f9f0",borderRadius:"6px",border:"1px solid #c3e6cb"},children:[e.jsx("div",{style:{fontSize:"13px",fontWeight:600,color:"#1a7f37",marginBottom:"4px"},children:"Add to cart"}),e.jsx("div",{style:{fontSize:"12px",color:"#555"},children:"Ships from Salt Lake City, UT"}),e.jsx("div",{style:{fontSize:"12px",color:"#555",marginTop:"2px"},children:"Seller: usedcam-0 â­â­â­â­â­"})]}),y&&e.jsxs("div",{style:{marginTop:"12px",fontSize:"12px",color:"#555"},children:[e.jsx("div",{children:"âœ“ Returns accepted"}),e.jsx("div",{children:"âœ“ Secure payments"}),e.jsx("div",{style:{color:"#888",marginTop:"4px",fontSize:"11px"},children:m?`${m} (${t.categoryId})`:`Category ID: ${t.categoryId}`})]})]})]}),e.jsx(W,{}),t.aspects.length>0&&e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#111",marginBottom:"10px"},children:"Item specifics"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"6px 20px"},children:[r&&e.jsxs(Y.Fragment,{children:[e.jsx("div",{style:{fontSize:"13px",color:"#555"},children:"Brand"}),e.jsx("div",{style:{fontSize:"13px",fontWeight:500,color:"#111"},children:r})]},"brand-row"),t.aspects.filter(x=>x.key&&x.value).map((x,p)=>e.jsxs(Y.Fragment,{children:[e.jsx("div",{style:{fontSize:"13px",color:"#555"},children:x.key}),e.jsx("div",{style:{fontSize:"13px",fontWeight:500,color:"#111"},children:x.value})]},p))]})]}),t.description&&e.jsxs(e.Fragment,{children:[e.jsx(W,{}),e.jsxs("div",{style:{marginTop:"16px"},children:[e.jsx("div",{style:{fontSize:"14px",fontWeight:600,color:"#111",marginBottom:"8px"},children:"Description"}),e.jsx("div",{style:{fontSize:"13px",lineHeight:"1.6",color:"#333",maxHeight:"200px",overflow:"auto",padding:"8px",background:"#fafafa",border:"1px solid #f3f4f6",borderRadius:"4px"},dangerouslySetInnerHTML:{__html:t.description}})]})]})]})]})},Be=({aspects:t,onChange:r})=>{const m=(i,h,g)=>{const x=t.map((p,C)=>C===i?{...p,[h]:g}:p);r(x)},y=i=>{r(t.filter((h,g)=>g!==i))},o=()=>{r([...t,{key:"",value:""}])};return e.jsxs(l,{gap:"300",children:[t.map((i,h)=>e.jsxs(c,{gap:"200",blockAlign:"center",children:[e.jsx("div",{style:{flex:1},children:e.jsx(P,{label:"Field",labelHidden:!0,placeholder:"e.g. Mount Type",value:i.key,onChange:g=>m(h,"key",g),autoComplete:"off"})}),e.jsx("div",{style:{flex:1},children:e.jsx(P,{label:"Value",labelHidden:!0,placeholder:"e.g. Canon EF",value:i.value,onChange:g=>m(h,"value",g),autoComplete:"off"})}),e.jsx(w,{icon:we,onClick:()=>y(h),tone:"critical",variant:"plain",accessibilityLabel:"Remove aspect"})]},h)),e.jsx(w,{icon:Ce,onClick:o,variant:"plain",size:"slim",children:"Add Item Specific"})]})},Fe=()=>{const{id:t}=ue(),r=me(),m=fe(),{addNotification:y}=ve(),o=parseInt(t||"0"),[i,h]=d.useState(null),[g,x]=d.useState(""),[p,C]=d.useState(""),[b,te]=d.useState(void 0),[G,ne]=d.useState(!1),[ae,oe]=d.useState(!1),[R,T]=d.useState(""),[re,O]=d.useState(!1),{data:le,isLoading:de}=be({queryKey:["draft-detail",o],queryFn:()=>N.get(`/drafts/${o}`),enabled:o>0}),ce=le?.draft,B=F({mutationFn:()=>N.post(`/drafts/${o}/preview-ebay-listing`),onSuccess:s=>{if(s.preview){const a=s.preview;x(a.brand),C(a.categoryName||""),te(a.policies);const f=Object.entries(a.aspects).map(([A,D])=>({key:A,value:Array.isArray(D)?D.join(", "):String(D)})),v={title:a.title,price:a.price,categoryId:a.categoryId,condition:a.condition,conditionDescription:a.conditionDescription||"",aspects:f,description:a.description,imageUrls:a.imageUrls},q=Pe(o),V=Object.keys(q).length>0;if(oe(V),V){const A={...v,...q};h(A),T(ee(A.categoryId))}else h(v),T(ee(v.categoryId))}else y({type:"error",title:"Could not load listing preview",message:s.error||"Failed to fetch eBay preview. Check eBay connection in Settings.",autoClose:1e4})},onError:s=>{y({type:"error",title:"Preview error",message:s instanceof Error?s.message:"Unknown error",autoClose:1e4})}});d.useEffect(()=>{o>0&&B.mutate()},[o]);const I=F({mutationFn:()=>{if(!i)throw new Error("No listing data");const s={};return i.aspects.forEach(({key:a,value:f})=>{a.trim()&&(s[a.trim()]=f.split(",").map(v=>v.trim()).filter(Boolean))}),N.post(`/drafts/${o}/list-on-ebay`,{title:i.title,price:parseFloat(i.price),categoryId:i.categoryId,condition:i.condition,aspects:s,description:i.description,imageUrls:i.imageUrls})},onSuccess:s=>{s.success&&s.listingId?(Oe(o),m.invalidateQueries({queryKey:["draft-detail",o]}),m.invalidateQueries({queryKey:["drafts"]}),y({type:"success",title:"ğŸ‰ Listed on eBay!",message:`Listing ID: ${s.listingId}`,autoClose:1e4}),r(`/review/${o}`)):y({type:"error",title:"Listing failed",message:s.error||"Unknown error",autoClose:1e4})},onError:s=>{y({type:"error",title:"Listing failed",message:s instanceof Error?s.message:"Unknown error",autoClose:1e4})}}),L=F({mutationFn:()=>i?N.put(`/drafts/${o}`,{title:i.title,description:i.description}):Promise.resolve({success:!0}),onSuccess:()=>{i&&Te(o,{price:i.price,categoryId:i.categoryId,condition:i.condition,conditionDescription:i.conditionDescription,aspects:i.aspects,imageUrls:i.imageUrls}),m.invalidateQueries({queryKey:["draft-detail",o]}),y({type:"success",title:"Draft saved",message:"Your changes have been saved",autoClose:4e3}),r(`/review/${o}`)},onError:()=>{y({type:"error",title:"Save failed",autoClose:5e3})}}),u=d.useCallback((s,a)=>{h(f=>f&&{...f,[s]:a})},[]),H=d.useMemo(()=>{const s=R.toLowerCase().trim();return s?E.filter(a=>a.name.toLowerCase().includes(s)||a.id.includes(s)||a.label.toLowerCase().includes(s)):E},[R]),pe=d.useCallback(s=>{u("categoryId",s);const a=E.find(v=>v.id===s),f=a?a.label:s;T(f),C(a?.name??""),O(!1)},[u]),he=d.useCallback(s=>{if(T(s),O(!0),/^\d+$/.test(s.trim())){u("categoryId",s.trim());const a=E.find(f=>f.id===s.trim());C(a?.name??"")}},[u]),ge=d.useCallback(s=>{u("condition",s);const a=ke(s);a&&u("conditionDescription",a)},[u]);if(de)return e.jsx(Q,{backAction:{content:"Back to Review",url:`/review/${o}`},title:"Loading...",children:e.jsx("div",{style:{textAlign:"center",padding:"4rem"},children:e.jsx(X,{size:"large"})})});const K=B.isPending,xe=ce?.draft_title||`Draft #${o}`,k=i?.title.length||0;return e.jsxs(Q,{backAction:{content:"Back to Review",url:`/review/${o}`},title:"Prepare eBay Listing",subtitle:xe,titleMetadata:e.jsx(S,{tone:"attention",children:"Not yet listed"}),secondaryActions:[{content:"Reload from System",icon:je,onAction:()=>B.mutate(),loading:B.isPending,disabled:I.isPending}],children:[K&&!i&&e.jsxs("div",{style:{textAlign:"center",padding:"4rem"},children:[e.jsx(X,{size:"large"}),e.jsx(n,{variant:"bodySm",as:"p",tone:"subdued",alignment:"center",children:"Loading eBay listing dataâ€¦"})]}),ae&&i&&!K&&e.jsx("div",{style:{marginBottom:"16px"},children:e.jsx(_,{tone:"info",children:e.jsx("p",{children:'Loaded your previously saved edits. Click "Reload from System" to start fresh with system defaults.'})})}),i&&e.jsxs(z,{children:[e.jsx(z.Section,{children:e.jsxs(l,{gap:"400",children:[e.jsx(j,{children:e.jsxs(l,{gap:"400",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Listing Details"}),e.jsxs(J,{children:[e.jsx(P,{label:e.jsxs(c,{gap:"200",blockAlign:"center",children:[e.jsx("span",{children:"eBay Title"}),e.jsx(S,{tone:k>80?"critical":k>65?"warning":"success",children:`${k}/80`})]}),value:i.title,onChange:s=>u("title",s.slice(0,80)),maxLength:80,showCharacterCount:!0,helpText:"eBay allows up to 80 characters. Avoid special characters like Â©, â„¢.",autoComplete:"off",error:k>80?"Title exceeds 80 character eBay limit":void 0}),e.jsx(P,{label:"Price (USD)",type:"number",prefix:"$",value:i.price,onChange:s=>u("price",s),helpText:"Price as it will appear on eBay. Pulled from Shopify.",autoComplete:"off"}),e.jsxs(J.Group,{children:[e.jsx(Z,{activator:e.jsx(Z.TextField,{label:"eBay Category",value:R,onChange:he,onFocus:()=>O(!0),onBlur:()=>{setTimeout(()=>O(!1),150)},placeholder:"Search or enter category IDâ€¦",helpText:p?"Auto-suggested Â· type to search, or enter a numeric ID":"Type to search categories, or enter a numeric ID",autoComplete:"off"}),allowMultiple:!1,children:re&&H.length>0?e.jsx(U,{onSelect:pe,children:H.map(s=>e.jsx(U.Option,{value:s.id,selected:i.categoryId===s.id,accessibilityLabel:s.label,children:e.jsx(U.TextOption,{selected:i.categoryId===s.id,children:s.label})},s.id))}):null}),e.jsx(Se,{label:"Condition",options:Ee,value:i.condition,onChange:ge,helpText:"Changes auto-populate the condition description below"})]}),e.jsx(P,{label:"Condition Description",value:i.conditionDescription,onChange:s=>u("conditionDescription",s),helpText:"Auto-filled from Pictureline grade; edit freely. Shown to buyers on eBay.",maxLength:1e3,multiline:2,autoComplete:"off"})]})]})}),e.jsx(j,{children:e.jsxs(l,{gap:"400",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs(l,{gap:"100",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Item Specifics"}),e.jsxs(n,{variant:"bodySm",as:"p",tone:"subdued",children:['Auto-extracted from product data. Brand "',g,'" is always included.']})]}),e.jsx(S,{children:`${i.aspects.length} fields`})]}),e.jsx(Be,{aspects:i.aspects,onChange:s=>u("aspects",s)})]})}),e.jsx("div",{style:{marginTop:"16px"}}),b&&e.jsx(j,{children:e.jsxs(l,{gap:"300",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Business Policies"}),e.jsx(n,{variant:"bodySm",as:"p",tone:"subdued",children:"Policies are set in your eBay seller account and applied automatically."}),e.jsx("div",{style:{background:"#f9fafb",borderRadius:"8px",padding:"12px 16px",border:"1px solid #e3e5e7"},children:e.jsxs(l,{gap:"200",children:[e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Fulfillment / Shipping"}),e.jsxs(l,{gap:"100",children:[e.jsx(n,{variant:"bodySm",as:"span",fontWeight:"semibold",children:b.fulfillmentPolicyName}),e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:e.jsx("code",{style:{fontSize:"11px",background:"#f3f4f6",padding:"1px 4px",borderRadius:"3px"},children:b.fulfillmentPolicyId})})]})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Returns"}),e.jsxs(l,{gap:"100",children:[e.jsx(n,{variant:"bodySm",as:"span",fontWeight:"semibold",children:b.returnPolicyName}),e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:e.jsx("code",{style:{fontSize:"11px",background:"#f3f4f6",padding:"1px 4px",borderRadius:"3px"},children:b.returnPolicyId})})]})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Payment"}),e.jsxs(l,{gap:"100",children:[e.jsx(n,{variant:"bodySm",as:"span",fontWeight:"semibold",children:b.paymentPolicyName}),e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:e.jsx("code",{style:{fontSize:"11px",background:"#f3f4f6",padding:"1px 4px",borderRadius:"3px"},children:b.paymentPolicyId})})]})]})]})}),e.jsxs(n,{variant:"bodySm",as:"p",tone:"subdued",children:["To change policies, update them in your"," ",e.jsx("a",{href:"https://www.ebay.com/sh/acc/business-policies",target:"_blank",rel:"noopener noreferrer",style:{color:"#0064d3"},children:"eBay Business Policies"})," ","settings."]})]})}),e.jsx("div",{style:{marginTop:"16px"}}),e.jsx(j,{children:e.jsxs(l,{gap:"400",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsxs(l,{gap:"100",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Photos"}),e.jsx(n,{variant:"bodySm",as:"p",tone:"subdued",children:"Drag to reorder. First photo (MAIN) is the hero image on eBay. Click âœ• to remove."})]}),e.jsx(S,{tone:i.imageUrls.length===0?"critical":"success",children:`${i.imageUrls.length} photo${i.imageUrls.length!==1?"s":""}`})]}),e.jsx(ye,{imageUrls:i.imageUrls,onChange:s=>u("imageUrls",s)})]})}),e.jsx("div",{style:{marginTop:"16px"}}),e.jsx(j,{children:e.jsxs(l,{gap:"400",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Description"}),e.jsx(S,{children:`${i.description.length} chars${i.description.length>5e5?" (âš ï¸ too long)":""}`})]}),e.jsx("textarea",{value:i.description,onChange:s=>u("description",s.target.value),rows:16,style:{width:"100%",padding:"12px",fontSize:"13px",lineHeight:"1.6",borderRadius:"8px",border:"1px solid #c9cccf",fontFamily:"monospace",resize:"vertical",boxSizing:"border-box"}}),e.jsx(n,{variant:"bodySm",as:"p",tone:"subdued",children:"HTML is supported. This will be the eBay listing description."})]})}),e.jsx("div",{style:{marginTop:"16px"},children:e.jsx(w,{onClick:()=>ne(s=>!s),variant:"plain",size:"slim",children:G?"â–² Hide eBay Preview":"â–¼ Show eBay Preview"})}),G&&e.jsx("div",{style:{marginTop:"12px"},children:e.jsx(ie,{state:i,brand:g,categoryName:p,policies:b})}),e.jsx("div",{style:{height:"100px"}})]})}),e.jsx(z.Section,{variant:"oneThird",children:e.jsxs("div",{style:{position:"sticky",top:"16px",zIndex:100},children:[e.jsx(j,{children:e.jsxs(l,{gap:"300",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Ready to List"}),i.imageUrls.length===0&&e.jsx(_,{tone:"critical",children:e.jsx("p",{children:"âš ï¸ No photos â€” eBay requires at least one image."})}),i.title.length===0&&e.jsx(_,{tone:"critical",children:e.jsx("p",{children:"âš ï¸ Title is required."})}),e.jsxs(l,{gap:"200",children:[e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Title"}),e.jsxs(n,{variant:"bodySm",as:"span",children:[k,"/80 chars"]})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Price"}),e.jsxs(n,{variant:"bodySm",as:"span",fontWeight:"semibold",children:["$",i.price]})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Condition"}),e.jsx(n,{variant:"bodySm",as:"span",children:se[i.condition]||i.condition})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Photos"}),e.jsxs(n,{variant:"bodySm",as:"span",children:[i.imageUrls.length," image",i.imageUrls.length!==1?"s":""]})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Category"}),e.jsx(n,{variant:"bodySm",as:"span",children:p?`${p} (${i.categoryId})`:i.categoryId})]}),e.jsxs(c,{align:"space-between",children:[e.jsx(n,{variant:"bodySm",as:"span",tone:"subdued",children:"Item Specifics"}),e.jsxs(n,{variant:"bodySm",as:"span",children:[i.aspects.filter(s=>s.key).length," fields"]})]})]}),e.jsx(W,{}),e.jsx(w,{variant:"primary",size:"large",fullWidth:!0,onClick:()=>I.mutate(),loading:I.isPending,disabled:i.imageUrls.length===0||i.title.length===0||L.isPending,children:"ğŸ›ï¸ List on eBay"}),e.jsx(w,{fullWidth:!0,onClick:()=>L.mutate(),loading:L.isPending,disabled:I.isPending,children:"ğŸ’¾ Save as Draft"}),e.jsx(w,{fullWidth:!0,variant:"plain",url:`/review/${o}`,disabled:I.isPending||L.isPending,children:"â† Back without saving"})]})}),e.jsx("div",{style:{marginTop:"16px"}}),e.jsx(j,{children:e.jsxs(l,{gap:"300",children:[e.jsxs(c,{align:"space-between",blockAlign:"center",children:[e.jsx(n,{variant:"headingMd",as:"h2",children:"Preview"}),e.jsx(S,{tone:"info",children:"Live"})]}),e.jsx(ie,{state:i,brand:g,categoryName:p,policies:b})]})})]})})]})]})};export{Fe as default};
