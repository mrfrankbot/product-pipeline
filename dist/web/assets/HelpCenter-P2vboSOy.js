import{u as E,c as M,h as I,r as l,j as e,O}from"./vendor-react-DzgxJkbp.js";import{u as $}from"./vendor-query-BeqrpgNA.js";import{f as A}from"./index-DJAOEm-v.js";import{x as D}from"./vendor-polaris-o1SQP_xq.js";const F={"Getting Started":{icon:"ðŸš€",color:"#e8f5e9",description:"New here? Start with the basics",order:0},Products:{icon:"ðŸ“¦",color:"#e3f2fd",description:"Managing your Shopify product catalog",order:1},Mappings:{icon:"ðŸ”—",color:"#f3e5f5",description:"Configure how Shopify fields map to eBay",order:2},Pipeline:{icon:"âš¡",color:"#fff3e0",description:"Automated listing workflow and stages",order:3},Orders:{icon:"ðŸ›’",color:"#e8eaf6",description:"Order sync and fulfillment",order:4},Analytics:{icon:"ðŸ“Š",color:"#fce4ec",description:"Reports, logs, and insights",order:5},Chat:{icon:"ðŸ’¬",color:"#e0f7fa",description:"Using the AI assistant",order:6},General:{icon:"ðŸ“–",color:"#f1f8e9",description:"General usage and tips",order:7}},f=i=>F[i]||{icon:"ðŸ“„",color:"#f5f5f5",description:"",order:99},C=i=>encodeURIComponent(i.toLowerCase().replace(/\s+/g,"-")),w=(i,d)=>d.find(t=>C(t)===i)||i,K=i=>i.replace(/\*\*/g,"").replace(/\n/g," "),R=(i,d=120)=>{const t=K(i);return t.length>d?t.slice(0,d)+"â€¦":t},z=()=>{const i=E(),d=M(),t=I(),[x,c]=l.useState(!1),[y,u]=l.useState(new Set),[p,a]=l.useState(""),{data:o,isLoading:j}=$({queryKey:["help-articles-all"],queryFn:()=>A.get("/help/faq")}),g=o?.data||[],m=l.useMemo(()=>{const s=new Map;for(const n of g){const r=n.category||"general";s.has(r)||s.set(r,[]),s.get(r).push(n)}return Array.from(s.entries()).map(([n,r])=>({name:n,items:r})).sort((n,r)=>f(n.name).order-f(r.name).order)},[g]);l.useEffect(()=>{if(t.category){const s=w(t.category,m.map(n=>n.name));u(n=>{const r=new Set(n);return r.add(s),r})}if(t.id){const s=g.find(n=>n.id===Number(t.id));s&&u(n=>{const r=new Set(n);return r.add(s.category||"general"),r})}},[t.category,t.id,m,g]);const v=l.useCallback(s=>{u(n=>{const r=new Set(n);return r.has(s)?r.delete(s):r.add(s),r})},[]),N=l.useMemo(()=>{if(!p.trim())return m;const s=p.toLowerCase();return m.map(n=>({...n,items:n.items.filter(r=>r.question.toLowerCase().includes(s)||r.answer&&r.answer.toLowerCase().includes(s))})).filter(n=>n.items.length>0)},[m,p]);l.useEffect(()=>{p.trim()&&u(new Set(N.map(s=>s.name)))},[p,N]);const S=t.id?Number(t.id):null,b=l.useCallback(s=>{i(`/help/article/${s}`),c(!1)},[i]),k=l.useCallback(s=>{i(`/help/category/${C(s)}`),c(!1)},[i]),L=d.pathname==="/help";return e.jsxs("div",{className:"help-docs",children:[x&&e.jsx("div",{className:"help-mobile-overlay",onClick:()=>c(!1)}),e.jsxs("aside",{className:`help-docs-sidebar${x?" mobile-open":""}`,children:[e.jsx("div",{className:"help-sidebar-header",children:e.jsx("span",{className:"help-sidebar-title",onClick:()=>i("/help"),children:"ðŸ“š Documentation"})}),e.jsx("div",{className:"help-sidebar-search",children:e.jsx("input",{type:"text",placeholder:"Filter articlesâ€¦",value:p,onChange:s=>a(s.target.value)})}),j?e.jsx("div",{className:"help-loading",children:e.jsx(D,{size:"small",accessibilityLabel:"Loading"})}):N.map(s=>{const n=f(s.name),r=y.has(s.name);return e.jsxs("div",{className:"help-sidebar-category",children:[e.jsxs("button",{className:`help-sidebar-category-btn${t.category&&w(t.category,m.map(h=>h.name))===s.name?" active":""}`,onClick:()=>v(s.name),children:[e.jsxs("span",{children:[n.icon," ",s.name]}),e.jsx("span",{className:"help-sidebar-category-count",children:s.items.length}),e.jsx("span",{className:`help-sidebar-category-chevron${r?" open":""}`,children:"â–¸"})]}),e.jsx("div",{className:"help-sidebar-articles",style:{maxHeight:r?`${s.items.length*34+4}px`:"0px"},children:s.items.map(h=>e.jsx("div",{className:`help-sidebar-article-link${S===h.id?" active":""}`,onClick:()=>b(h.id),tabIndex:0,onKeyDown:q=>{q.key==="Enter"&&b(h.id)},children:h.question.length>40?h.question.slice(0,40)+"â€¦":h.question},h.id))})]},s.name)})]}),e.jsx("main",{className:"help-docs-main",children:L?e.jsx(G,{articles:g,categories:m,goToArticle:b,goToCategory:k}):e.jsx(O,{context:{articles:g,categories:m}})}),e.jsx("button",{className:"help-mobile-toggle",onClick:()=>c(s=>!s),children:"â˜°"})]})},G=({articles:i,categories:d,goToArticle:t,goToCategory:x})=>{const[c,y]=l.useState(""),u=l.useMemo(()=>{if(!c.trim())return[];const a=c.toLowerCase();return i.filter(o=>o.question.toLowerCase().includes(a)||o.answer&&o.answer.toLowerCase().includes(a)||o.category&&o.category.toLowerCase().includes(a)).slice(0,10)},[c,i]),p=l.useMemo(()=>d.slice(0,8).map(a=>a.items[0]).filter(Boolean),[d]);return e.jsxs("div",{className:"help-landing",children:[e.jsxs("div",{className:"help-hero",children:[e.jsx("h1",{children:"How can we help?"}),e.jsx("p",{children:"Search our documentation or browse by category below"}),e.jsxs("div",{className:"help-hero-search",children:[e.jsx("span",{className:"help-hero-search-icon",children:"ðŸ”"}),e.jsx("input",{type:"text",placeholder:"Search articlesâ€¦",value:c,onChange:a=>y(a.target.value)})]})]}),c.trim()&&e.jsx("div",{className:"help-search-results",children:u.length===0?e.jsxs("div",{className:"help-empty",children:[e.jsx("h3",{children:"No results found"}),e.jsx("p",{children:"Try different keywords or browse the categories below"})]}):u.map(a=>e.jsxs("div",{className:"help-search-result-item",onClick:()=>t(a.id),tabIndex:0,onKeyDown:o=>{o.key==="Enter"&&t(a.id)},children:[e.jsx("p",{className:"help-search-result-category",children:a.category||"general"}),e.jsx("p",{className:"help-search-result-title",children:a.question}),e.jsx("p",{className:"help-search-result-snippet",children:R(a.answer||"",150)})]},a.id))}),!c.trim()&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"help-categories-grid",children:d.map(a=>{const o=f(a.name);return e.jsxs("div",{className:"help-category-card",onClick:()=>x(a.name),tabIndex:0,onKeyDown:j=>{j.key==="Enter"&&x(a.name)},children:[e.jsx("div",{className:"help-category-card-icon",style:{background:o.color},children:o.icon}),e.jsx("p",{className:"help-category-card-title",children:a.name}),o.description&&e.jsx("p",{className:"help-category-card-desc",children:o.description}),e.jsxs("p",{className:"help-category-card-count",children:[a.items.length," article",a.items.length!==1?"s":""]})]},a.name)})}),p.length>0&&e.jsxs("div",{className:"help-popular-section",children:[e.jsx("h2",{className:"help-section-title",children:"Popular Articles"}),e.jsx("div",{className:"help-popular-list",children:p.map(a=>e.jsxs("div",{className:"help-popular-item",onClick:()=>t(a.id),tabIndex:0,onKeyDown:o=>{o.key==="Enter"&&t(a.id)},children:[e.jsx("span",{className:"help-popular-item-icon",children:"â†’"}),e.jsx("span",{className:"help-popular-item-text",children:a.question})]},a.id))})]})]})]})};export{w as categoryFromSlug,C as categorySlug,z as default};
